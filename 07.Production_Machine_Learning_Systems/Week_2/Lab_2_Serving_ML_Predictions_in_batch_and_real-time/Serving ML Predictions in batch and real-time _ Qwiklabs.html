<!DOCTYPE html>
<!-- saved from url=(0049)https://googlecoursera.qwiklabs.com/focuses/35377 -->
<html lang="en" class="mdl-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style>
<meta content="[]" name="active-experiments">
<meta content="{&quot;userId&quot;:1018107}" name="help-api-product-data">
<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="fKiLzIccaIafOrtPj/lim1Wae/J+FbnL8wC+9EIdRWfyco4HMrd7JjyIXjSO1BbkhvKi69t7aQtbbale2kK+Dg==">
<title>Serving ML Predictions in batch and real-time | Qwiklabs</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0" name="viewport">
<meta content="In this lab, you run Dataflow pipelines to serve predictions for batch requests as well as streaming in real-time.
" name="description">
<meta content="Qwiklabs" name="author">
<meta content="1rRsY0INj8RvwB5EF5pwdxt2A2P9aDgAlsICaJ0d5w0" name="google-site-verification">
<meta content="Serving ML Predictions in batch and real-time | Qwiklabs" property="og:title">
<meta content="website" property="og:type">
<meta content="/favicon-144.png" property="og:image">
<meta content="Qwiklabs" property="og:site_name">
<meta content="In this lab, you run Dataflow pipelines to serve predictions for batch requests as well as streaming in real-time.
" property="og:description">
<meta content="/qwiklabs_logo_900x887.png" property="og:logo" size="900x887">
<meta content="/qwiklabs_logo_994x187.png" property="og:logo" size="994x187">
<meta content="#3681E4" property="msapplication-TileColor">
<meta content="/favicon-144.png" property="msapplication-TileImage">
<link href="https://googlecoursera.qwiklabs.com/favicon-32.png" rel="shortcut icon">
<link color="#3681E4" href="https://googlecoursera.qwiklabs.com/favicon-svg.svg" rel="mask-icon">
<link href="https://googlecoursera.qwiklabs.com/favicon-180.png" rel="apple-touch-icon-precomposed">
<link rel="stylesheet" media="screen" href="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/css">


<!--[if lt IE 9]>
<script src='http://html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
<![endif]-->
<!--[endif]>  <![endif]-->
<script type="text/javascript" async="" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/js"></script><script type="text/javascript" async="" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/analytics.js.download"></script><script type="text/javascript" async="" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/analytics.min.js.download"></script><script type="text/javascript" id="www-widgetapi-script" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/www-widgetapi.js.download" async=""></script><script>
//<![CDATA[
window.gon={};gon.current_user={"firstname":"Saifullah al","lastname":"Mujahid","fullname":"Saifullah al Mujahid","company":"Login with Google","email":"mujahid7292@gmail.com","origin":"google-run, direct, nEHJKyBzts1wgcYE7A3w","subscriptions":0,"id":"594ecfdd6abffec37cc71dd7002ec821","qlCreatedAt":"2018-08-09 10:26:13 UTC","optIn":true};gon.segment="j4Im8pqIko0Lxq4wVVZWMPMM0EroHUvb";gon.deployment="googlecoursera-run";
//]]>
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "url": "https://www.qwiklabs.com/",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://www.qwiklabs.com/catalog?keywords={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
<script id="ze-snippet" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/snippet.js.download"></script>



<link rel="stylesheet" media="all" href="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/application-24120c1aef38a3b99b2e86e178f8f.css">
<script>
  EVENT_SOURCE_BASE_URL = "https://googlecoursera-run.qwiklabs.com/nchan-sub?id=";
</script>
<script src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/webcomponents-loader.js.download"></script><script src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/webcomponents-hi.js.download"></script>
<script src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/hallofmirrors-f85649837b49ca7f1e74eb.download"></script><script async="" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/lazy.min.js.download"></script>
<script src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/iframe_api"></script>
<script src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/vendor-45d462772c30000424907184f70c7.download"></script>
<script src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/application-7c67c1d428839917a0992758.download"></script>
</head>
<body class="focuses focuses-show lab-show l-full no-nav">
<div class="header-container">
<div class="header">
<a class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect header__button header__button--nav header__nav-panel-button js-nav-toggle" data-upgraded=",MaterialButton,MaterialRipple">
<i class="material-icons">menu</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<div class="header__title">
<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--nav" href="https://www.coursera.org/" data-upgraded=",MaterialButton,MaterialRipple"><ql-icon>arrow_back</ql-icon><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>

<h1 class="headline-5">
Serving ML Predictions in batch and real-time
</h1>
</div>
<div class="header__actions">
<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--action header__button--search js-header-search-bar-button" data-upgraded=",MaterialButton,MaterialRipple">
<i class="material-icons">search</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<a class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" id="toggle-lab-control-panel" href="javascript:;" data-upgraded=",MaterialButton,MaterialRipple" tabindex="0"><i class="material-icons">description</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a><div class="mdl-tooltip js-tooltip" data-mdl-for="toggle-lab-control-panel" data-upgraded=",MaterialTooltip">
Toggle Lab Panel
</div>

<ql-help context="lab" productdata="{&quot;userId&quot;:1018107}" data-analytics-action="opened_help" data-analytics-label="lab"></ql-help>
<a class="header-my-account-button mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect js-my-account-button" data-upgraded=",MaterialButton,MaterialRipple">
<img class="avatar " alt="avatar image" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/446d5a9572a0ed0a6dd56cb9e8666994.jpeg">
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<div class="header-my-account-menu js-my-account-menu">
<div class="card elevation-2 no-padding">
<div class="my-account-menu__top">
<img class="avatar " alt="avatar image" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/446d5a9572a0ed0a6dd56cb9e8666994.jpeg">
<div class="my-account-menu__info">
<h4 class="subtitle-headline-1">
Saifullah al Mujahid
</h4>
<p class="body-2 text--gray">
<span>mujahid7292@gmail.com</span>
</p>
<a class="button" href="https://googlecoursera.qwiklabs.com/my_account/profile">My Account</a>
</div>
</div>
<div class="my-account-menu__bottom">
<a class="text--green subtitle-headline-2" href="https://googlecoursera.qwiklabs.com/my_account/credits">5 Credits
</a><a data-analytics-action="clicked_sign_out" class="button button--hairline" rel="nofollow" data-method="delete" href="https://googlecoursera.qwiklabs.com/users/sign_out">Sign Out</a>
</div>
</div>
</div>

</div>
</div>
<div class="header__search-bar js-header-search-bar">
<form id="catalog-search-mobile" onsubmit="ql.catalogSearchFilter(); return false;" action="https://googlecoursera.qwiklabs.com/searches/elasticsearch" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="âœ“"><input type="hidden" name="authenticity_token" value="fKiLzIccaIafOrtPj/lim1Wae/J+FbnL8wC+9EIdRWfyco4HMrd7JjyIXjSO1BbkhvKi69t7aQtbbale2kK+Dg==">
<input type="text" name="keywords" id="keywords" placeholder="Search" maxlength="255" aria-label="catalog search bar">
</form>

<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button" data-upgraded=",MaterialButton,MaterialRipple">
<i class="material-icons">close</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
</div>
</div>

<nav class="nav-bar">
<a class="nav-bar__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/"><ql-icon class="nav-bar__item__icon">
home
</ql-icon>
<span class="nav-bar__item__label">
Home
</span>
</a>
<a class="nav-bar__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/catalog"><ql-icon class="nav-bar__item__icon">
school
</ql-icon>
<span class="nav-bar__item__label">
Catalog
</span>
</a>
<a class="nav-bar__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_learning"><ql-icon class="nav-bar__item__icon">
event_note
</ql-icon>
<span class="nav-bar__item__label">
My Learning
</span>
</a>
</nav>

<nav class="nav-panel js-nav-panel">
<div class="nav-panel__logo">
<div class="logo logo--blue"></div>
</div>
<a title="Home" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/"><ql-icon class="nav-panel__item__icon">
home
</ql-icon>
<div class="nav-panel__item__label">
Home
</div>
</a>
<a title="Catalog" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/catalog"><ql-icon class="nav-panel__item__icon">
school
</ql-icon>
<div class="nav-panel__item__label">
Catalog
</div>
</a>
<a title="My Learning" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_learning"><ql-icon class="nav-panel__item__icon">
event_note
</ql-icon>
<div class="nav-panel__item__label">
My Learning
</div>
</a>
<div class="nav-panel__spacer"></div>
<a title="Profile" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_account/profile"><ql-icon class="nav-panel__item__icon">
account_circle
</ql-icon>
<div class="nav-panel__item__label">
Profile
</div>
</a>
<a title="Credits &amp; Subscriptions" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_account/credits"><ql-icon class="nav-panel__item__icon">
money
</ql-icon>
<div class="nav-panel__item__label">
Credits &amp; Subscriptions
</div>
</a>
<a title="Security" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_account/security"><ql-icon class="nav-panel__item__icon">
security
</ql-icon>
<div class="nav-panel__item__label">
Security
</div>
</a>
<div class="nav-panel__spacer"></div>
<a class="nav-panel__item" tabindex="-1" href="https://googlecoursera.qwiklabs.com/focuses/35377#"><ql-help>
<div class="nav-panel__help-item">
<ql-icon class="nav-panel__item__icon">help</ql-icon>
<div class="nav-panel__item__label">Help</div>
</div>
</ql-help>
</a><div class="nav-panel__small-links">
<a tabindex="-1" href="https://googlecoursera.qwiklabs.com/privacy_policy">Privacy</a>
<a tabindex="-1" href="https://googlecoursera.qwiklabs.com/terms_of_service">Terms</a>
</div>
</nav>
<div class="nav-panel__overlay js-nav-toggle"></div>

<main class="js-main">
<span class="hidden" id="flash-sibling-before"></span>

<div class="l-main-wrapper" id="main-wrapper">







<div class="js-lab-state" data-analytics-payload="{&quot;label&quot;:&quot;Serving ML Predictions in batch and real-time&quot;,&quot;lab_name&quot;:&quot;Serving ML Predictions in batch and real-time&quot;,&quot;classroom_name&quot;:null,&quot;deployment&quot;:&quot;googlecoursera-run&quot;}" data-focus-id="35377" data-lab-billing-limit="0.0" data-lab-duration="7200" data-parent="classroom"></div>
<ql-lab-control-panel class="js-lab-control-panel l-lab-control-panel" connectiondetails="[]" connectionfiles="[]" labcontrolbutton="{&quot;disabled&quot;:false,&quot;pending&quot;:false,&quot;running&quot;:false}" labtimer="{&quot;ticking&quot;:false,&quot;secondsRemaining&quot;:7200}" studentresources="[]"></ql-lab-control-panel>
<div class="l-lab-main-body">
<div class="js-lab-content lab-content">
<div class="alert alert--fake js-alert">
<p class="alert__message js-alert-message"></p>
<a class="alert__close js-alert-close">
<i class="fa fa-times"></i>
</a>
<iframe class="l-ie-iframe-fix" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/saved_resource.html"></iframe>
</div>
<div class="lab-content__markdown-wrapper">
<div class="lab-preamble">
<h1 class="lab-preamble__title">
Serving ML Predictions in batch and real-time
</h1>
<div class="lab-preamble__details subtitle-headline-1">
<span>2 hours </span>
<span>Free</span>
<div class="lab__rating">
<a href="https://googlecoursera.qwiklabs.com/focuses/35377/reviews?parent=catalog"><div class="rateit" data-rateit-readonly="true" data-rateit-value="3.9758"><div class="rateit-reset" style="display: none;"></div><div class="rateit-range" style="width: 80px; height: 16px;"><div class="rateit-selected" style="height: 16px; width: 63.6128px;"></div><div class="rateit-hover" style="height:16px"></div></div></div>

</a><a data-target="#lab-review-modal" data-toggle="modal">
Rate Lab
</a>
</div>
</div>
</div>

<div class="lab-content__inner-wrapper">
<div class="js-markdown-instructions lab-content__markdown markdown-lab-instructions" id="markdown-lab-instructions">



<h2 id="step1">Overview</h2>
<p><em>Duration is 1 min</em></p>
<p>In this lab, you run Dataflow pipelines to serve predictions for batch requests as well as streaming in real-time.</p>
<h3><strong>What you learn</strong></h3>
<p>In this lab, you write code to:</p>
<ul>
<li>
<p>Create a prediction service that calls your trained model deployed in Cloud to serve predictions</p>
</li>
<li>
<p>Run a Dataflow job to have the prediction service read in batches from a CSV file and serve predictions</p>
</li>
<li>
<p>Run a streaming Dataflow pipeline to read requests real-time from Cloud Pub/Sub and write predictions into a BigQuery table</p>
</li>
</ul>
<h2 id="step2">Setup</h2>
<p>For each lab, you get a new GCP project and set of resources for a fixed time at no cost.</p>
<ol>
<li>
<p>Make sure you signed into Qwiklabs using an <strong>incognito window</strong>.</p>
</li>
<li>
<p>Note the lab's access time (for example, <img alt="img/time.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/aZQJ4BT7uCmM9XR6BTXgTRP1Hfu1T7q6V+cnbdEsbpU="> and make sure you can finish in that time block.</p>
</li>
</ol>
<aside> <p>
  There is no pause feature. You can restart if needed, but you have to start at the beginning.
  </p>

</aside>
<ol start="3">
<li>
<p>When ready, click <img alt="img/start_lab.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/XE8x7uvQokyubNwnYKKc+vBBNrMlo5iNZiDDzQQ3Ddo=">.</p>
</li>
<li>
<p>Note your lab credentials. You will use them to sign in to Cloud Platform Console.
<img alt="img/open_google_console.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/0d78dhX6IVMVWmixCPPSBbmi5O2GPokCXf1Ps1AkTgI="></p>
</li>
<li>
<p>Click <strong>Open Google Console</strong>.</p>
</li>
<li>
<p>Click <strong>Use another account</strong> and copy/paste credentials for <strong>this</strong> lab into the prompts.</p>
</li>
</ol>
<aside class="warning"><p>
  If you use other credentials, you'll get errors or <strong>incur charges</strong>.
  </p>
</aside>
<ol start="7">
<li>Accept the terms and skip the recovery resource page.</li>
</ol>
<aside class="warning"><p>
  Do not click <strong>End Lab</strong> unless you are finished with the lab or want to restart it. This clears your work and removes the project.
  </p>
</aside>

<h2 id="step3">Start Cloud Shell</h2>
<h3>Activate Google Cloud Shell</h3>
<p>Google Cloud Shell is a virtual machine that is loaded with development tools. It offers a persistent 5GB home directory and runs on the Google Cloud.
Google Cloud Shell provides command-line access to your GCP resources.</p>
<ol>
<li>
<p>In GCP console, on the top right toolbar, click the Open Cloud Shell button.</p>
<p><img alt="Cloud Shell icon" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/vdY5e_an9ZGXw5a_ZMb1agpXhRGozsOadHURcR8thAQ="></p>
</li>
<li>
<p>Click <strong>Continue</strong>.
<img alt="cloudshell_continue.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/lr3PBRjWIrJ+MQnE8kCkOnRQQVgJnWSg4UWk16f0s_A="></p>
</li>
</ol>
<p>It takes a few moments to provision and connect to the environment. When you are connected, you are already authenticated, and the project is set to your <em>PROJECT_ID</em>. For example:</p>
<p><img alt="Cloud Shell Terminal" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/hmMK0W41Txk+20bQyuDP9g60vCdBajIS+52iI2f4bYk="></p>
<p><strong>gcloud</strong> is the command-line tool for Google Cloud Platform. It comes pre-installed on Cloud Shell and supports tab-completion.</p>
<p>You can list the active account name with this command:</p>
<pre><code>gcloud auth list
</code><button class="button button--copy js-copy-button-0"><i class="fa fa-clipboard"></i></button></pre>
<p>Output:</p>
<pre><code class="language-output prettyprint prettyprinted" style=""><span class="typ">Credentialed</span><span class="pln"> accounts</span><span class="pun">:</span><span class="pln">
 </span><span class="pun">-</span><span class="pln"> </span><span class="str">&lt;myaccount&gt;</span><span class="pun">@&lt;</span><span class="pln">mydomain</span><span class="pun">&gt;.</span><span class="pln">com </span><span class="pun">(</span><span class="pln">active</span><span class="pun">)</span></code><button class="button button--copy js-copy-button-1"><i class="fa fa-clipboard"></i></button></pre>
<p>Example output:</p>
<pre><code class="language-Output prettyprint prettyprinted" style=""><span class="typ">Credentialed</span><span class="pln"> accounts</span><span class="pun">:</span><span class="pln">
 </span><span class="pun">-</span><span class="pln"> google1623327_student@qwiklabs</span><span class="pun">.</span><span class="pln">net</span></code><button class="button button--copy js-copy-button-2"><i class="fa fa-clipboard"></i></button></pre>
<p>You can list the project ID with this command:</p>
<pre><code>gcloud config list project
</code><button class="button button--copy js-copy-button-3"><i class="fa fa-clipboard"></i></button></pre>
<p>Output:</p>
<pre><code class="language-output prettyprint prettyprinted" style=""><span class="pun">[</span><span class="pln">core</span><span class="pun">]</span><span class="pln">
project </span><span class="pun">=</span><span class="pln"> </span><span class="str">&lt;project_ID&gt;</span></code><button class="button button--copy js-copy-button-4"><i class="fa fa-clipboard"></i></button></pre>
<p>Example output:</p>
<pre><code class="language-Output prettyprint prettyprinted" style=""><span class="pun">[</span><span class="pln">core</span><span class="pun">]</span><span class="pln">
project </span><span class="pun">=</span><span class="pln"> qwiklabs</span><span class="pun">-</span><span class="pln">gcp</span><span class="pun">-</span><span class="lit">44776a13dea667a6</span></code><button class="button button--copy js-copy-button-5"><i class="fa fa-clipboard"></i></button></pre>
<ql-infobox>
  Full documentation of <strong>gcloud</strong> is available on <a href="https://cloud.google.com/sdk/gcloud">Google Cloud gcloud Overview</a>.
</ql-infobox>

<h2 id="step4">Copy trained model</h2>
<h3><strong>Step 1</strong></h3>
<p>Set necessary variables and create a bucket:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">REGION</span><span class="pun">=</span><span class="pln">us</span><span class="pun">-</span><span class="pln">central1
BUCKET</span><span class="pun">=</span><span class="pln">$</span><span class="pun">(</span><span class="pln">gcloud config get</span><span class="pun">-</span><span class="pln">value project</span><span class="pun">)</span><span class="pln">
TFVERSION</span><span class="pun">=</span><span class="lit">1.15</span><span class="pln">
gsutil mb </span><span class="pun">-</span><span class="pln">l $</span><span class="pun">{</span><span class="pln">REGION</span><span class="pun">}</span><span class="pln"> gs</span><span class="pun">://</span><span class="pln">$</span><span class="pun">{</span><span class="pln">BUCKET</span><span class="pun">}</span></code><button class="button button--copy js-copy-button-6"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>Step 2</strong></h3>
<p>Copy trained model into your bucket:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">gsutil </span><span class="pun">-</span><span class="pln">m cp </span><span class="pun">-</span><span class="pln">R gs</span><span class="pun">://</span><span class="pln">cloud</span><span class="pun">-</span><span class="pln">training</span><span class="pun">-</span><span class="pln">demos</span><span class="pun">/</span><span class="pln">babyweight</span><span class="pun">/</span><span class="pln">trained_model gs</span><span class="pun">://</span><span class="pln">$</span><span class="pun">{</span><span class="pln">BUCKET</span><span class="pun">}/</span><span class="pln">babyweight</span></code><button class="button button--copy js-copy-button-7"><i class="fa fa-clipboard"></i></button></pre>
<h2 id="step5">Deploy trained model</h2>
<h3><strong>Step 1</strong></h3>
<p>Set necessary variables:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">MODEL_NAME</span><span class="pun">=</span><span class="pln">babyweight
MODEL_VERSION</span><span class="pun">=</span><span class="pln">ml_on_gcp
MODEL_LOCATION</span><span class="pun">=</span><span class="pln">$</span><span class="pun">(</span><span class="pln">gsutil ls gs</span><span class="pun">://</span><span class="pln">$</span><span class="pun">{</span><span class="pln">BUCKET</span><span class="pun">}/</span><span class="pln">babyweight</span><span class="pun">/</span><span class="pln">export</span><span class="pun">/</span><span class="pln">exporter</span><span class="pun">/</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> tail </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span></code><button class="button button--copy js-copy-button-8"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>Step 2</strong></h3>
<p>Deploy trained model:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">gcloud ai</span><span class="pun">-</span><span class="pln">platform models create $</span><span class="pun">{</span><span class="pln">MODEL_NAME</span><span class="pun">}</span><span class="pln"> </span><span class="pun">--</span><span class="pln">regions $REGION
gcloud ai</span><span class="pun">-</span><span class="pln">platform versions create $</span><span class="pun">{</span><span class="pln">MODEL_VERSION</span><span class="pun">}</span><span class="pln"> </span><span class="pun">--</span><span class="pln">model $</span><span class="pun">{</span><span class="pln">MODEL_NAME</span><span class="pun">}</span><span class="pln"> </span><span class="pun">--</span><span class="pln">origin $</span><span class="pun">{</span><span class="pln">MODEL_LOCATION</span><span class="pun">}</span><span class="pln"> </span><span class="pun">--</span><span class="pln">runtime</span><span class="pun">-</span><span class="pln">version $TFVERSION</span></code><button class="button button--copy js-copy-button-9"><i class="fa fa-clipboard"></i></button></pre>
<h2 id="step6">Browse lab files</h2>
<p><em>Duration is 5 min</em></p>
<h3><strong>Step 1</strong></h3>
<p>Clone the course repository:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">cd </span><span class="pun">~</span><span class="pln">
git clone https</span><span class="pun">://</span><span class="pln">github</span><span class="pun">.</span><span class="pln">com</span><span class="pun">/</span><span class="typ">GoogleCloudPlatform</span><span class="pun">/</span><span class="pln">training</span><span class="pun">-</span><span class="pln">data</span><span class="pun">-</span><span class="pln">analyst</span></code><button class="button button--copy js-copy-button-10"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>Step 2</strong></h3>
<p>In Cloud Shell, navigate to the folder containing the code for this lab:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">cd </span><span class="pun">~/</span><span class="pln">training</span><span class="pun">-</span><span class="pln">data</span><span class="pun">-</span><span class="pln">analyst</span><span class="pun">/</span><span class="pln">courses</span><span class="pun">/</span><span class="pln">machine_learning</span><span class="pun">/</span><span class="pln">deepdive</span><span class="pun">/</span><span class="lit">06</span><span class="pln">_structured</span><span class="pun">/</span><span class="pln">labs</span><span class="pun">/</span><span class="pln">serving</span></code><button class="button button--copy js-copy-button-11"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>Step 3</strong></h3>
<p>Run the <code>what_to_fix.sh</code> script to see a list of items you need to add/modify to existing code to run your app:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pun">./</span><span class="pln">what_to_fix</span><span class="pun">.</span><span class="pln">sh</span></code><button class="button button--copy js-copy-button-12"><i class="fa fa-clipboard"></i></button></pre>
<p>As a result of this, you will see a list of filenames and lines within those files marked with <strong>TODO</strong>. These are the lines where you have to add/modify code. For this lab, you will focus on #TODO items for <strong>.java files only</strong>, namely <code>BabyweightMLService.java</code> : which is your prediction service.</p>
<h2 id="step7">How the code is organized</h2>
<p><img alt="f2aeed7941e38072.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/mOB7g_AyxnBPIcmOQrntJtLJnLpPs1VNweTEahYHw74="></p>
<h2 id="step8">Prediction service</h2>
<p>In this section, you fix the code in <strong>BabyweightMLService.java</strong> and test it with the <strong>run_once.sh</strong> script that is provided. If you need help with the code, look at the next section that provides hints on how to fix code in BabyweightMLService.java.</p>
<h3><strong>Step 1</strong></h3>
<p>You may use the Cloud Shell code editor to view and edit the contents of these files.</p>
<p>In Cloud Shell, click the <strong>Open Editor</strong> icon on the top right.</p>
<p><img alt="120a1cbf4e617467.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/z3sisN8gUAHXUjCpxpbD3c3onchwNTrnjw0sqcnBWhk="></p>
<h3><strong>Step 2</strong></h3>
<p>After it is launched, navigate to the following directory:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">training</span><span class="pun">-</span><span class="pln">data</span><span class="pun">-</span><span class="pln">analyst</span><span class="pun">/</span><span class="pln">courses</span><span class="pun">/</span><span class="pln">machine_learning</span><span class="pun">/</span><span class="pln">deepdive</span><span class="pun">/</span><span class="lit">06</span><span class="pln">_structured</span><span class="pun">/</span><span class="pln">labs</span><span class="pun">/</span><span class="pln">serving</span><span class="pun">/</span><span class="pln">pipeline</span><span class="pun">/</span><span class="pln">src</span><span class="pun">/</span><span class="pln">main</span><span class="pun">/</span><span class="pln">java</span><span class="pun">/</span><span class="pln">com</span><span class="pun">/</span><span class="pln">google</span><span class="pun">/</span><span class="pln">cloud</span><span class="pun">/</span><span class="pln">training</span><span class="pun">/</span><span class="pln">mlongcp</span></code><button class="button button--copy js-copy-button-13"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>Step 3</strong></h3>
<p>Open the <code>BabyweightMLService.java</code> files and replace <em>#TODOs</em> in the code.</p>
<h3><strong>Step 4</strong></h3>
<p>Once completed, go into your Cloud Shell and run the <code>run_once.sh</code> script to test your ML service.</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">cd </span><span class="pun">~/</span><span class="pln">training</span><span class="pun">-</span><span class="pln">data</span><span class="pun">-</span><span class="pln">analyst</span><span class="pun">/</span><span class="pln">courses</span><span class="pun">/</span><span class="pln">machine_learning</span><span class="pun">/</span><span class="pln">deepdive</span><span class="pun">/</span><span class="lit">06</span><span class="pln">_structured</span><span class="pun">/</span><span class="pln">labs</span><span class="pun">/</span><span class="pln">serving
</span><span class="pun">./</span><span class="pln">run_once</span><span class="pun">.</span><span class="pln">sh</span></code><button class="button button--copy js-copy-button-14"><i class="fa fa-clipboard"></i></button></pre>
<h2 id="step9">Serve predictions for batch requests</h2>
<p>This section of the lab calls AddPrediction.java that takes a batch input (one big CSV), calls the prediction service to generate baby weight predictions and writes them into local files (multiple CSVs).</p>
<h3><strong>Step 1</strong></h3>
<p>In your Cloud Shell code editor, open the <code>AddPrediction.java</code> file available in the following directory:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">training</span><span class="pun">-</span><span class="pln">data</span><span class="pun">-</span><span class="pln">analyst</span><span class="pun">/</span><span class="pln">courses</span><span class="pun">/</span><span class="pln">machine_learning</span><span class="pun">/</span><span class="pln">deepdive</span><span class="pun">/</span><span class="lit">06</span><span class="pln">_structured</span><span class="pun">/</span><span class="pln">labs</span><span class="pun">/</span><span class="pln">serving</span><span class="pun">/</span><span class="pln">pipeline</span><span class="pun">/</span><span class="pln">src</span><span class="pun">/</span><span class="pln">main</span><span class="pun">/</span><span class="pln">java</span><span class="pun">/</span><span class="pln">com</span><span class="pun">/</span><span class="pln">google</span><span class="pun">/</span><span class="pln">cloud</span><span class="pun">/</span><span class="pln">training</span><span class="pun">/</span><span class="pln">mlongcp</span></code><button class="button button--copy js-copy-button-15"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>Step 2</strong></h3>
<p>Look through the code and notice how, based on input argument, it decides to set up a batch or streaming pipeline, and creates the appropriate TextInputOutput or PubSubBigQuery io object respectively to handle the reading and writing.</p>
<aside class="special"><p><strong>Note: </strong>Look back at the diagram in  "how code is organized" section to make sense of it all.</p>
</aside>
<h3><strong>Step 3</strong></h3>
<p>Test batch mode by running the <code>run_ontext.sh</code> script provided in the lab directory:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">cd </span><span class="pun">~/</span><span class="pln">training</span><span class="pun">-</span><span class="pln">data</span><span class="pun">-</span><span class="pln">analyst</span><span class="pun">/</span><span class="pln">courses</span><span class="pun">/</span><span class="pln">machine_learning</span><span class="pun">/</span><span class="pln">deepdive</span><span class="pun">/</span><span class="lit">06</span><span class="pln">_structured</span><span class="pun">/</span><span class="pln">labs</span><span class="pun">/</span><span class="pln">serving
</span><span class="pun">./</span><span class="pln">run_ontext</span><span class="pun">.</span><span class="pln">sh</span></code><button class="button button--copy js-copy-button-16"><i class="fa fa-clipboard"></i></button></pre>
<h2 id="step10">Serve predictions real-time with a streaming pipeline</h2>
<p>In this section of the lab, you will launch a streaming pipeline with Dataflow, which will accept incoming information from Cloud Pub/Sub, use the info to call the prediction service to get baby weight predictions, and finally write that info into a BigQuery table.</p>
<h3><strong>Step 1</strong></h3>
<p>On your GCP Console's left-side menu, go into <strong>Pub/Sub</strong> and click the <strong>CREATE TOPIC</strong> button on top. Create a topic called <strong>babies</strong>.</p>
<p><img alt="c4128dad787aaada.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/cgzKmove+mCt1bWmEpq_Xs08M9hhjc4L+Ux6rUp41Xs="></p>
<h3><strong>Step 2</strong></h3>
<p>Back in your Cloud Shell, modify the script <code>run_dataflow.sh</code> to get Project ID (using <em>--project</em>) from command line arguments, and then run as follows:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">cd </span><span class="pun">~/</span><span class="pln">training</span><span class="pun">-</span><span class="pln">data</span><span class="pun">-</span><span class="pln">analyst</span><span class="pun">/</span><span class="pln">courses</span><span class="pun">/</span><span class="pln">machine_learning</span><span class="pun">/</span><span class="pln">deepdive</span><span class="pun">/</span><span class="lit">06</span><span class="pln">_structured</span><span class="pun">/</span><span class="pln">labs</span><span class="pun">/</span><span class="pln">serving
</span><span class="pun">./</span><span class="pln">run_dataflow</span><span class="pun">.</span><span class="pln">sh</span></code><button class="button button--copy js-copy-button-17"><i class="fa fa-clipboard"></i></button></pre>
<p>This will create a streaming Dataflow pipeline.</p>
<h3><strong>Step 3</strong></h3>
<p>Back in your GCP Console, use the left-side menu to go into <strong>Dataflow</strong> and verify that the streaming job is created.</p>
<p><img alt="eaf7891a8d680d8e.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/W31wqgtgUQ8XoaTGrhlG2NfG8BVu7uj3bsDmMWWqUPk="></p>
<h3><strong>Step 4</strong></h3>
<p>Next, click on the job name to view the pipeline graph. Click on the pipeline steps (boxes) and look at the run details (like system lag, elements added, etc.) of that step on the right side.</p>
<p><img alt="662fb484741d22e2.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/nCNhfuErm_EcsWIHdFakU2BFiMwn_l_53wJKIH9ORBA="></p>
<p>This means that your pipeline is running and waiting for input. Let's provide input through the Pub/Sub topic.</p>
<h3><strong>Step 5</strong></h3>
<p>Copy some lines from your example.csv.gz:</p>
<pre><code class="language-bash prettyprint prettyprinted" style=""><span class="pln">cd </span><span class="pun">~/</span><span class="pln">training</span><span class="pun">-</span><span class="pln">data</span><span class="pun">-</span><span class="pln">analyst</span><span class="pun">/</span><span class="pln">courses</span><span class="pun">/</span><span class="pln">machine_learning</span><span class="pun">/</span><span class="pln">deepdive</span><span class="pun">/</span><span class="lit">06</span><span class="pln">_structured</span><span class="pun">/</span><span class="pln">labs</span><span class="pun">/</span><span class="pln">serving
zcat exampledata</span><span class="pun">.</span><span class="pln">csv</span><span class="pun">.</span><span class="pln">gz</span></code><button class="button button--copy js-copy-button-18"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>Step 6</strong></h3>
<p>On your  GCP Console, go back into <strong>Pub/Sub</strong>, click on the <strong>babies</strong> topic, and then click on <strong>Publish message</strong> button on top. In the message box, paste the lines you just copied from exampledata.csv.gz and click on <strong>Publish</strong> button.</p>
<p><img alt="9e58fd14886fba1f.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/cy0rVkx+okTTd4HPHVvXn+gNeSoJhiI6o5WS8s72+kk="></p>
<h3><strong>Step 7</strong></h3>
<p>You may go back into Dataflow jobs on your GCP Console, click on your job and see how the run details have changed for the steps, for example click on <strong>write_toBQ</strong> and look at Elements added.</p>
<h3><strong>Step 8</strong></h3>
<p>Lets verify that the predicted weights have been recorded into the BigQuery table.</p>
<h3>Open BigQuery Console</h3>
<p>In the Google Cloud Console, select <strong>Navigation menu</strong> &gt; <strong>BigQuery</strong>:</p>
<p><img alt="BigQuery_menu.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/QwUX6algdXPgIThqBlgB2rnqGkoQUUANkl3xicD06uc="></p>
<p>The <strong>Welcome to BigQuery in the Cloud Console</strong> message box opens. This message box provides a link to the quickstart guide and lists UI updates.</p>
<p>Click <strong>Done</strong>.</p>

<p>Look at the left-side menu and you should see the <strong>babyweight</strong> dataset. Click on the blue down arrow to its left, and you should see your <strong>predictions</strong> table.</p>
<aside class="special"><p><strong>Note: </strong>If you do not see the prediction table, give it a few minutes as the pipeline has allowed-latency and that can add some delay.</p>
</aside>
<p><img alt="predictions_table.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/N7zca5xyrbo6thJItF8oH1SMUfb9GxPLPdYnSlXSUfM="></p>
<h3><strong>Step 9</strong></h3>
<p>Type the query below in the <strong>Query editor</strong> to retrieve rows from your predictions table.</p>
<pre><code class="language-sql prettyprint prettyprinted" style=""><span class="pln">SELECT </span><span class="pun">*</span><span class="pln"> FROM babyweight</span><span class="pun">.</span><span class="pln">predictions LIMIT </span><span class="lit">1000</span></code><button class="button button--copy js-copy-button-19"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>Step 10</strong></h3>
<p>Click the <strong>Run</strong> button. Notice the <strong>predicted_weights_pounds</strong> column in the result.</p>
<p><img alt="query_result.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/xjuBu7R+hR0z6IoTZ9oX6A6cbyQHLs73DErW+cKQ0Ls="></p>
<h3><strong>Step 11</strong></h3>
<p>Remember that your pipeline is still running. You can publish additional messages from your example.csv.gz and verify new rows added to your predictions table. Once you are satisfied, you may stop the Dataflow pipeline by going into your Dataflow Jobs page, and click the <strong>Stop</strong> button on the top. Select <strong>Drain</strong> and click <strong>Stop Job</strong>.</p>
<p><img alt="69cff18d8f1cabb5.png" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/8+tRUqhsfVcNWvVHf5Cyinci_yhtVCv203yQkRX647M="></p>
<h2 id="step11">End your lab</h2>
<p>When you have completed your lab, click <strong>End Lab</strong>. Qwiklabs removes the resources youâ€™ve used and cleans the account for you.</p>
<p>You will be given an opportunity to rate the lab experience. Select the applicable number of stars, type a comment, and then click <strong>Submit</strong>.</p>
<p>The number of stars indicates the following:</p>
<ul>
<li>1 star = Very dissatisfied</li>
<li>2 stars = Dissatisfied</li>
<li>3 stars = Neutral</li>
<li>4 stars = Satisfied</li>
<li>5 stars = Very satisfied</li>
</ul>
<p>You can close the dialog box if you don't want to provide feedback.</p>
<p>For feedback, suggestions, or corrections, please use the <strong>Support</strong> tab.</p>

<p>Â©2020 Google LLC All rights reserved. Google and the Google logo are trademarks of Google LLC. All other company and product names may be trademarks of the respective companies with which they are associated.</p>



</div>
<div class="js-lab-content-outline lab-content__outline is-stuck">
<a href="https://googlecoursera.qwiklabs.com/focuses/35377#step1" class="">Overview</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step2" class="is-active">Setup</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step3">Start Cloud Shell</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step4">Copy trained model</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step5">Deploy trained model</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step6">Browse lab files</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step7">How the code is organized</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step8">Prediction service</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step9">Serve predictions for batch requests</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step10">Serve predictions real-time with a streaming pipeline</a><a href="https://googlecoursera.qwiklabs.com/focuses/35377#step11">End your lab</a>
</div>
</div>

</div>


</div>
</div>
<div class="lab-introduction js-lab-introduction is-hidden">
<div class="lab-introduction__inner">
<h1 class="headline-1">Welcome to Your First Lab!</h1>
<ql-icon-button class="js-skip-button">close</ql-icon-button>
<div class="lab-introduction__video">
<iframe allow="autoplay; encrypted-media" allowfullscreen="" frameborder="0" id="lab-introduction" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/yF7EDXKTmoQ.html"></iframe>
</div>
<a class="js-skip-button button button--outline">Skip this video</a>
</div>
</div>



</div>
</main>
<div class="modal fade" id="lab-details-modal">
<div class="modal-container">
<div class="mdl-shadow--24dp modal-content">
<div class="modal-body">
<p class="l-mbm">
In this lab, you run Dataflow pipelines to serve predictions for batch requests as well as streaming in real-time.

</p>
<p class="small-label l-mbs">
<strong>
Duration:
</strong>
0m setup
Â·
120m access
Â·
90m completion
</p>
<p class="small-label l-mbs">
<span><strong>Levels: </strong>advanced</span>
</p>
<p class="small-label">
<strong>
Permalink:
</strong>
<a href="https://googlecoursera.qwiklabs.com/catalog_lab/1990">https://googlecoursera.qwiklabs.com/catalog_lab/1990</a>
</p>
</div>
<div class="modal-actions">
<a class="mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect" data-dismiss="modal" data-upgraded=",MaterialButton,MaterialRipple">
Got It
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
</div>


</div>
</div>
<iframe class="l-ie-iframe-fix" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/saved_resource(1).html"></iframe>
</div>
<div class="modal fade" id="lab-review-modal">
<div class="modal-container">
<div class="mdl-shadow--24dp modal-content">
<form class="simple_form js-lab-review-form" id="new_lab_review" action="https://googlecoursera.qwiklabs.com/lab_reviews" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“"><div class="modal-body">
<p class="label">
How satisfied are you with this lab?*
</p>
<div class="rateit js-rateit" data-rateit-max="5" data-rateit-min="0" data-rateit-resetable="false" data-rateit-step="1" data-rateit-value="0"><div class="rateit-reset" style="display: none;"></div><div class="rateit-range" style="width: 80px; height: 16px;"><div class="rateit-selected" style="height: 16px; width: 0px;"></div><div class="rateit-hover" style="height:16px"></div></div></div>
<div class="l-mtm">

<div class="control-group hidden lab_review_user_id"><div class="controls"><input class="hidden" type="hidden" value="1018107" name="lab_review[user_id]" id="lab_review_user_id"></div></div>
<div class="control-group hidden lab_review_classroom_id"><div class="controls"><input class="hidden" type="hidden" value="4533" name="lab_review[classroom_id]" id="lab_review_classroom_id"></div></div>
<div class="control-group hidden lab_review_lab_id"><div class="controls"><input class="hidden" type="hidden" value="1990" name="lab_review[lab_id]" id="lab_review_lab_id"></div></div>
<div class="control-group hidden lab_review_focus_id"><div class="controls"><input class="hidden" type="hidden" value="35377" name="lab_review[focus_id]" id="lab_review_focus_id"></div></div>
<div class="control-group hidden lab_review_rating"><div class="controls"><input class="hidden js-rating-input" type="hidden" name="lab_review[rating]" id="lab_review_rating"></div></div>
<div class="control-group text optional lab_review_comment"><label class="text optional control-label" for="lab_review_comment">Comment</label><div class="controls"><textarea class="text optional" name="lab_review[comment]" id="lab_review_comment"></textarea></div></div>
</div>
</div>
<div class="modal-actions">
<a class="mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect" data-dismiss="modal" data-upgraded=",MaterialButton,MaterialRipple">
Cancel
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<input type="submit" name="commit" value="Submit" disabled="disabled" class="btn mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--primary" id="submit" data-disabled="false" data-disable-with="Submit" data-upgraded=",MaterialButton,MaterialRipple"><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></input>
</div>
</form>

</div>
</div>
<iframe class="l-ie-iframe-fix" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/saved_resource(2).html"></iframe>
</div>

<script>
  $( function() {
    ql.initMaterialInputs();
    initChosen();
    initSearch();
    initTabs();
    ql.list.init();
    ql.favoriting.init();
    ql.header.myAccount.init();
    initTooltips();
    ql.autocomplete.init();
    ql.modals.init();
    ql.toggleButtons.init();
    ql.analytics.init();
    initLabContent( );
  ql.labOutline.links.init();
  ql.labOutline.layout.init();
  initLabReviewModal();
  ql.labAssessment.init();
  ql.labIntroduction.init( true );
  ql.labData.init();
  initLabTranslations( {"are_you_sure":"All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?\n","in_progress":"*In Progress*","ending":"*Ending*","starting":"*Starting, please wait*","end_concurrent_labs":"Sorry, you can only run one lab at a time. To start this lab, please confirm that you want all of your existing labs to end.\n","copied":"Copied","no_resource":"Error retrieving resource.","no_support":"No Support","mac_press":"Press âŒ˜-C to copy","thanks_review":"Thanks for reviewing this lab.","windows_press":"Press Ctrl-C to copy","days":"days"} );
  ql.labRun.init();
  ql.initHeader();
  ql.navigation.init();
  ql.navPanel.init();
  ql.navigation.init();
  
  });
</script>
<style>
  .mdl-layout__container {
    position: static
  }
</style>


<iframe data-product="web_widget" title="No content" tabindex="-1" aria-hidden="true" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/saved_resource(3).html" style="width: 0px; height: 0px; border: 0px; position: absolute; top: -9999px;"></iframe><div><iframe title="Opens a widget where you can chat to one of our agents" id="launcher" tabindex="0" class="zEWidget-launcher zEWidget-launcher--active" style="border: none; background: transparent; z-index: 999998; transform: translateZ(0px); position: fixed; transition-duration: 250ms; transition-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1); transition-property: opacity, top, bottom; opacity: 1; height: 50px; max-height: 551px; min-height: 50px; margin: 10px 20px; right: 0px; bottom: 0px; width: 112px;width: 112px;" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/saved_resource(4).html"></iframe></div><div><iframe title="Find more information here" id="webWidget" tabindex="-1" class="zEWidget-webWidget " style="border: none; background: transparent; z-index: 999999; transform: translateZ(0px); position: fixed; transition-duration: 250ms; transition-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1); transition-property: opacity, top, bottom; opacity: 0; width: 357px; height: 100%; max-height: 565px; min-height: 150px; margin-left: 8px; margin-right: 8px; top: -9999px; visibility: hidden;" src="./Serving ML Predictions in batch and real-time _ Qwiklabs_files/saved_resource(5).html"></iframe></div></body></html>